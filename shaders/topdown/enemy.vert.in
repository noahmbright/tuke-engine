#version {{ VERSION }}

{{ LOCATION 0 BINDING 0 RATE_INSTANCE OFFSET TIGHTLY_PACKED }} in vec2 a_pos;

{{ SET_BINDING 0 0 BUFFER_LABEL CAMERA_VP }} uniform VPUniform {
    mat4 vp;
} u_vp;

void main(){

    vec2 quad[4] = vec2[](
        vec2(-1, -1),
        vec2( 1, -1),
        vec2(-1,  1),
        vec2( 1,  1)
    );

    vec2 uv = quad[{{ VERTEX_INDEX }}];
    vec2 pos = uv + a_pos;

    gl_Position = u_vp.vp * vec4(pos, 0.0, 1.0);
}

